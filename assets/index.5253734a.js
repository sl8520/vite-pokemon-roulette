import{d as B,_ as S,o as i,c as q,n as h,a as u,b as n,r as $,e as c,F as w,f as z,g as d,u as R,h as L,w as M,i as E,v as T}from"./index.7362e267.js";const D=B({name:"CustomRoulette",props:{items:{type:Object,required:!0,validator(e){return e.length>=4}},firstItemIndex:{type:Object,required:!1,default(){return{value:0}}},wheelResultIndex:{type:Object,required:!1,default(){return{value:null}},validator(e){return typeof e.value=="number"||e.value===null}},centeredIndicator:{type:Boolean,required:!1,default:!1},indicatorPosition:{type:String,required:!1,default:"top",validator(e){return["top","right","bottom","left"].includes(e)}},size:{type:Number,required:!1,default:300},displayShadow:{type:Boolean,required:!1,default:!1},duration:{type:Number,required:!1,default:4},resultVariation:{type:Number,required:!1,default:0,validator(e){return e>=0&&e<=100}},easing:{type:String,required:!1,default:"ease",validator(e){return["ease","bounce"].includes(e)}},counterClockwise:{type:Boolean,required:!1,default:!1},horizontalContent:{type:Boolean,required:!1,default:!1},displayBorder:{type:Boolean,required:!1,default:!1},displayIndicator:{type:Boolean,required:!1,default:!0},baseDisplay:{type:Boolean,required:!1,default:!1},baseSize:{type:Number,required:!1,default:100},baseDisplayShadow:{type:Boolean,required:!1,default:!1},baseDisplayIndicator:{type:Boolean,required:!1,default:!1},baseBackground:{type:String,required:!1,default:""}},emits:["wheelStart","wheelEnd"],data(){return{randomIdRoulette:0,itemSelected:null,processingLock:!1,currentRotation:0}},computed:{itemAngle:function(){return 360/this.items.length},startingAngle:function(){return this.centeredIndicator?-1*this.firstItemIndex.value*this.itemAngle-this.itemAngle/2:-1*this.firstItemIndex.value*this.itemAngle},degreesVariation:function(){if(!this.resultVariation)return 0;const e=this.itemAngle/2*this.resultVariation/100*-1,A=this.itemAngle/2*this.resultVariation/100;return Number((Math.random()*(A-e)+e).toFixed(2))},counterClockWiseOperator:function(){return this.counterClockwise?-1:1}},mounted(){this.randomIdRoulette=Number((Math.random()*(999999-1)+1).toFixed(0)),this.$nextTick(()=>{this.reset(),document.querySelector(`#wheel-container-${this.randomIdRoulette} .wheel`).addEventListener("transitionend",()=>{this.processingLock=!1,this.$emit("wheel-end",this.itemSelected)})})},methods:{reset(){this.itemSelected=null,this.currentRotation=0,document.querySelector(`#wheel-container-${this.randomIdRoulette} .wheel`).style.transform=`rotate(${this.startingAngle}deg)`},launchWheel(){if(this.processingLock&&this.itemSelected!==null)return;this.processingLock=!0;let e;this.wheelResultIndex.value!==null?e=this.wheelResultIndex.value%this.items.length:e=Math.floor(Math.random()*this.items.length+1)-1;const A=document.querySelector(`#wheel-container-${this.randomIdRoulette} .wheel`);this.itemSelected=this.items[e],this.currentRotation||(this.currentRotation=0);const s=this.counterClockWiseOperator*(-e*this.itemAngle-this.itemAngle/2+this.degreesVariation),l=3,t=360,g=this.currentRotation%t;let o=s-g;o<0&&(o+=t);const a=this.currentRotation+l*t+o;A.style.transform=`rotate(${a}deg)`,this.currentRotation=a,this.$emit("wheel-start",this.itemSelected)}}}),G=["id"],H={class:"wheel-base"},x={key:0,class:"wheel-base-indicator"},W=["innerHTML"];function F(e,A,s,l,t,g){return i(),q("div",{id:`wheel-container-${e.randomIdRoulette}`,class:h(["wheel-container",[`indicator-${e.indicatorPosition}`,{"wheel-container-indicator":e.displayIndicator},{"wheel-container-shadow":e.displayShadow},{"wheel-container-border":e.displayBorder}]])},[e.baseDisplay?(i(),q("div",{key:0,class:h(["wheel-base-container",[{"wheel-base-container-shadow":e.baseDisplayShadow}]]),style:u({width:`${e.baseSize}px`,height:`${e.baseSize}px`,background:`${e.baseBackground}`})},[n("div",H,[$(e.$slots,"baseContent",{},void 0,!0)]),e.baseDisplayIndicator?(i(),q("div",x)):c("",!0)],6)):c("",!0),n("div",{class:h(["wheel",[`easing-${e.easing}`,{"wheel-border":e.displayBorder}]]),style:u({width:`${e.size}px`,height:`${e.size}px`,transitionDuration:`${e.duration}s`,transform:`rotate(${e.startingAngle}deg)`})},[(i(!0),q(w,null,z(e.items,(o,a)=>(i(),q("div",{key:o.id,class:"wheel-item",style:u({transform:`rotate(${e.itemAngle*a}deg) skewY(${-(90-e.itemAngle)}deg)`,background:o.background})},[n("div",{class:h(["content",{"horizontal-content":e.horizontalContent}]),style:u({transform:`skewY(${90-e.itemAngle}deg) rotate(${e.itemAngle/2}deg)`})},[n("span",{style:u({color:o.textColor}),innerHTML:o.htmlContent},null,12,W)],6)],4))),128))],6)],10,G)}const Z=S(D,[["render",F],["__scopeId","data-v-f5f3455b"]]),V="/vite-pokemon-roulette/assets/1.ad8a30ed.png",O="/vite-pokemon-roulette/assets/2.a22e790b.png",U="/vite-pokemon-roulette/assets/3.4987aa41.png",Y="/vite-pokemon-roulette/assets/4.88323a9f.png",N="/vite-pokemon-roulette/assets/5.1aceded1.png",j="/vite-pokemon-roulette/assets/6.84c04ca8.png",Q="/vite-pokemon-roulette/assets/7.d5e86056.png",J="/vite-pokemon-roulette/assets/8.87eab32f.png",X="/vite-pokemon-roulette/assets/9.52809152.png",P="data:audio/mpeg;base64,SUQzAwAAAAACRFRJVDIAAAAdAAAAUG9wcGluZyBMaWQgb2YgTGlwYmFsbSBTdGlja1RZRVIAAAAFAAAAMjAwNlREUkMAAAAFAAAAMjAwNlRQRTEAAAAJAAAAU3RhcmxpdGVDT01NAAAAbAAAAAAAAABTb3VyY2U6IGh0dHA6Ly93d3cucGRzb3VuZHMub3JnL3NvdW5kcy9wb3BwaW5nX2xpZF9vZl9saXBiYWxtX3N0aWNrIE1vZGlmaWVkIGFuZCByZW1peGVkIGJ5IEdvb2dsZSBJbmMuQ09NTQAAAGwAAABYWFgAU291cmNlOiBodHRwOi8vd3d3LnBkc291bmRzLm9yZy9zb3VuZHMvcG9wcGluZ19saWRfb2ZfbGlwYmFsbV9zdGljayBNb2RpZmllZCBhbmQgcmVtaXhlZCBieSBHb29nbGUgSW5jLv/7kMQAAAAAAAAAAAAAAAAAAAAAAEluZm8AAAAPAAAAAgAABOQAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgP//////////////////////////////////////////////////////////////////AAAAOUxBTUUzLjk4cgHNAAAAAAAAAAAUgCQFEEIAAIAAAATkdU7VsgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/7kMQAABMM30K0x4ADdCqttyvkAiAAusWLKLHObJYNAIA0BoTDxYsMDTLeTsnZc1HCL4JoAtgLYGcJGONC7F8EIAOwjabL4PQSxUSv3jyJTX9HivZ4+IDx5T0pq79jV6vZ2R48p83vd5EpSlKQHj++6U1m96UpTXzd+yPIgIAgc8EwfB8HwfBA51AgCAIA+D4Pv8HwQBAEIJg+fiAHwfB8HwcBAEHeIATB8H/yjYiFAxGA4HAsEgdCFIAGEgaAEAU08DESDAyODkXwSrIGTTJVmWQK+ZfI62Xf8yMSSjGhA6MgcpTH///OechE8O93DZSYFMrEY+U3L+9/+zE9LJMnUUcwlhGDF9HqMZsED8+f///+EA2mAMCGYMgL5gZAxGCgC6YLgEPf5/f////EgIUXxQBIwHwEzApAwGQITAAAA5/75/////+pqOADiwCIEAPR4EYA6un8Xd+9fl+8O//////zMOvVDNLEX2i31pd////////+X/+v3/1qtLS9s4YS6t4SBX//hIOqAKAI0AAyYmLrS6M5MYzlbh0fQhKBFf/7ksQLA9ZJjwL8x4AIAAA0gAAABFH6aKhi9tOUelaTqhgK6OT0BtAFJjCuiGnifxclOCZAFJjCug5RYWhPHUzX6tVrK9kOYW4TZZL8JsIcdUcvohISFCj9JydMXtpbScuTChqGsumJPIdFhPo2/CYn2rQo1vWC93muv81rvNa19oT7WLW/xa2sWtb1gvd5rX/Na7zWtfaFG1i1v/a39rW9YL3ea11/WvzWtfaE+1CG/upMQU1FMy45OC4yqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqo=",K="/vite-pokemon-roulette/assets/stop.ff24f3e4.mp3",v=Object.assign({"../assets/image/pokemon/1.png":V,"../assets/image/pokemon/2.png":O,"../assets/image/pokemon/3.png":U,"../assets/image/pokemon/4.png":Y,"../assets/image/pokemon/5.png":N,"../assets/image/pokemon/6.png":j,"../assets/image/pokemon/7.png":Q,"../assets/image/pokemon/8.png":J,"../assets/image/pokemon/9.png":X}),r=(()=>{const e={};for(const A in v){let s=A.replace("../assets/image/pokemon/","");s=s.split(".")[0],e[s]=v[A]}return e})(),f=Object.assign({"../assets/audio/start.mp3":P,"../assets/audio/stop.mp3":K}),y=(()=>{const e={};for(const A in f){let s=A.replace("../assets/audio/","");s=s.split(".")[0],e[s]=f[A]}return e})(),ee="/vite-pokemon-roulette/assets/background.7df49480.jpg",te={class:"relative grid place-items-center h-screen py-10 text-center"},se={key:0,class:"w-32 h-18 z-20 bg-white rounded-lg mb-2 shadow-lg text-xl font-bold gap-2"},Ae=["innerHTML"],ae={class:"relative z-10"},oe=["innerHTML"],le={__name:"index",setup(e){const A=d(null),s=d(!0),l=d(),t=d({centeredIndicator:!0,indicatorPosition:"top",size:300,displayShadow:!0,duration:3,resultVariation:70,easing:"bounce",counterClockwise:!1,horizontalContent:!1,displayBorder:!1,displayIndicator:!1,baseDisplay:!0,baseSize:100,baseDisplayShadow:!0,baseDisplayIndicator:!0,baseBackground:"#eeaacc",baseHtmlContent:"<p>Touch</p>"}),g=[{id:2,htmlContent:`2 <img src="${r[2]}" class="w-10 h-10">`,textColor:"",background:""},{id:3,htmlContent:`3 <img src="${r[3]}" class="w-10 h-10">`,textColor:"",background:""},{id:4,htmlContent:`4 <img src="${r[4]}" class="w-10 h-10">`,textColor:"",background:""},{id:5,htmlContent:`5 <img src="${r[5]}" class="w-10 h-10">`,textColor:"",background:""},{id:6,htmlContent:`6 <img src="${r[6]}" class="w-10 h-10">`,textColor:"",background:""},{id:7,htmlContent:`7 <img src="${r[7]}" class="w-10 h-10">`,textColor:"",background:""},{id:8,htmlContent:`8 <img src="${r[8]}" class="w-10 h-10">`,textColor:"",background:""},{id:9,htmlContent:`9 <img src="${r[9]}" class="w-10 h-10">`,textColor:"",background:""}],o=d({value:0}),a=d(),p=d(),k=()=>{A.value.launchWheel()},C=()=>{a.value=new Audio(y.start),a.value.loop=!0,a.value.play(),window.currentAudio=a.value},I=m=>{l.value=m,a.value&&(a.value.pause(),a.value=null,p.value=new Audio(y.stop),p.value.play())},_=()=>{s.value=!1,l.value=null,setTimeout(()=>{s.value=!0},10)};return(m,b)=>(i(),q(w,null,[n("div",{class:"absolute inset-0 bg-center bg-cover opacity-40",style:u({backgroundImage:`url(${R(ee)})`})},null,4),n("div",te,[l.value?(i(),q("div",se,[n("div",{style:{"text-align":"-webkit-center"},innerHTML:l.value.htmlContent},null,8,Ae)])):c("",!0),n("div",ae,[s.value?(i(),L(Z,{key:0,ref_key:"wheel",ref:A,items:g,"first-item-index":o.value,"centered-indicator":t.value.centeredIndicator,"indicator-position":t.value.indicatorPosition,size:t.value.size,"display-shadow":t.value.displayShadow,"display-border":t.value.displayBorder,"display-indicator":t.value.displayIndicator,duration:t.value.duration,"result-variation":t.value.resultVariation,easing:t.value.easing,"counter-clockwise":t.value.counterClockwise,"horizontal-content":t.value.horizontalContent,"base-display":t.value.baseDisplay,"base-size":t.value.baseSize,"base-display-indicator":t.value.baseDisplayIndicator,"base-display-shadow":t.value.baseDisplayShadow,"base-background":t.value.baseBackground,onClick:k,onWheelStart:C,onWheelEnd:I},{baseContent:M(()=>[t.value.baseHtmlContent?(i(),q("div",{key:0,innerHTML:t.value.baseHtmlContent},null,8,oe)):c("",!0)]),_:1},8,["first-item-index","centered-indicator","indicator-position","size","display-shadow","display-border","display-indicator","duration","result-variation","easing","counter-clockwise","horizontal-content","base-display","base-size","base-display-indicator","base-display-shadow","base-background"])):c("",!0),E(n("div",null,[n("button",{class:"btn btn-xs mx-2",onClick:b[0]||(b[0]=ne=>_())}," Reset ")],512),[[T,l.value]])])])],64))}};export{le as default};
